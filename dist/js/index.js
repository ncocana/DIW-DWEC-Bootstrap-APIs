let map,infoWindow;function initMap(){var o={lat:39.5794933,lng:2.6598026},n=new google.maps.Map(document.getElementById("map"),{zoom:10,center:o}),o=(new google.maps.Marker({position:o,map:n}),infoWindow=new google.maps.InfoWindow,document.createElement("button"));o.textContent="Donde estoy",o.classList.add("custom-map-control-button"),n.controls[google.maps.ControlPosition.TOP_CENTER].push(o),o.addEventListener("click",()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{o={lat:o.coords.latitude,lng:o.coords.longitude};infoWindow.setPosition(o),infoWindow.setContent("Location found."),infoWindow.open(n),n.setCenter(o)},()=>{handleLocationError(!0,infoWindow,n.getCenter())}):handleLocationError(!1,infoWindow,n.getCenter())})}function handleLocationError(o,n,t){n.setPosition(t),n.setContent(o?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),n.open(map)}window.initMap=initMap;